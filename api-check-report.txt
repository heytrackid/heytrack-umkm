ğŸ” Running deep API route validation...

Found 77 API route files

================================================================================
DEEP API ROUTE CHECK RESULTS
================================================================================
Total files checked: 77
Total issues found: 201
================================================================================

ğŸ” STRUCTURE ISSUES (7 files):

ğŸ“„ src/app/api/customers/[id]/route.ts
   âŒ No HTTP method handlers found

ğŸ“„ src/app/api/expenses/[id]/route.ts
   âŒ No HTTP method handlers found

ğŸ“„ src/app/api/hpp/alerts/[id]/read/route.ts
   âŒ No HTTP method handlers found

ğŸ“„ src/app/api/ingredient-purchases/[id]/route.ts
   âŒ No HTTP method handlers found

ğŸ“„ src/app/api/recipes/[id]/route.ts
   âŒ No HTTP method handlers found

ğŸ“„ src/app/api/sales/[id]/route.ts
   âŒ No HTTP method handlers found

ğŸ“„ src/app/api/suppliers/[id]/route.ts
   âŒ No HTTP method handlers found


ğŸ” SECURITY ISSUES (33 files):

ğŸ“„ src/app/api/auth/login/route.ts
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/auth/signup/route.ts
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/charts/financial-trends/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/charts/inventory-trends/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/customers/[id]/route.ts
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/customers/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/dashboard/stats/route.ts
   âŒ HTTP methods not wrapped with withSecurity()
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/diagnostics/route.ts
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/errors/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/expenses/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/export/global/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/financial/records/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/health/route.ts
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/hpp/calculate/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/hpp/calculations/route.ts
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/hpp/overview/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/hpp/recommendations/route.ts
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/ingredients/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/inventory/alerts/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/notifications/preferences/route.ts
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/notifications/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/operational-costs/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/orders/[id]/route.ts
   âŒ HTTP methods not wrapped with withSecurity()
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/orders/route.ts
   âŒ HTTP methods not wrapped with withSecurity()
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/recipes/[id]/route.ts
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/recipes/route.ts
   âŒ HTTP methods not wrapped with withSecurity()
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/reports/cash-flow/route.ts
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/reports/profit/route.ts
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/sales/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/suppliers/import/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/suppliers/route.ts
   âŒ HTTP methods not wrapped with withSecurity()

ğŸ“„ src/app/api/verify-turnstile/route.ts
   âŒ Potential sensitive data handling without sanitization

ğŸ“„ src/app/api/whatsapp-templates/route.ts
   âŒ HTTP methods not wrapped with withSecurity()


ğŸ” ERROR HANDLING ISSUES (74 files):

ğŸ“„ src/app/api/admin/error-logs/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/admin/export-logs/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/admin/metrics/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/admin/performance-logs/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/ai/bootstrap/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/ai/context/route.ts
   âŒ Catch parameter not named "error"

ğŸ“„ src/app/api/ai/generate-recipe/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/ai/sessions/[id]/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/ai/sessions/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/ai/suggestions/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/analytics/long-tasks/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/analytics/web-vitals/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/auth/login/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/auth/signup/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/charts/financial-trends/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/charts/inventory-trends/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/customers/[id]/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/customers/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/dashboard/hpp-summary/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/dashboard/production-schedule/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/dashboard/stats/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/diagnostics/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/errors/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/expenses/[id]/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/expenses/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/export/global/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/financial/records/[id]/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/financial/records/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/health/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/hpp/alerts/[id]/read/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/hpp/alerts/bulk-read/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/hpp/calculate/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/hpp/calculations/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/hpp/comparison/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/hpp/overview/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/hpp/pricing-assistant/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/hpp/recommendations/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/ingredient-purchases/[id]/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/ingredient-purchases/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/ingredients/import/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/ingredients/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/inventory/alerts/[id]/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/inventory/alerts/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/inventory/restock-suggestions/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/notifications/[id]/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/notifications/mark-all-read/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/notifications/preferences/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/notifications/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/operational-costs/[id]/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/operational-costs/quick-setup/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/operational-costs/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/orders/[id]/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/orders/[id]/status/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/orders/calculate-price/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/orders/import/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/orders/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/production/suggestions/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/production-batches/[id]/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/production-batches/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/recipes/[id]/pricing/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/recipes/[id]/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/recipes/availability/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/recipes/optimized/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/recipes/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/reports/cash-flow/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/reports/profit/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/sales/[id]/route.ts
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/sales/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/suppliers/[id]/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/suppliers/import/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/suppliers/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/whatsapp-templates/[id]/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/whatsapp-templates/generate-defaults/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block

ğŸ“„ src/app/api/whatsapp-templates/route.ts
   âŒ Catch parameter not named "error"
   âŒ Errors not logged in catch block


ğŸ” VALIDATION ISSUES (4 files):

ğŸ“„ src/app/api/financial/records/route.ts
   âŒ Write methods should validate input with Zod

ğŸ“„ src/app/api/inventory/alerts/route.ts
   âŒ Write methods should validate input with Zod

ğŸ“„ src/app/api/suppliers/import/route.ts
   âŒ Write methods should validate input with Zod

ğŸ“„ src/app/api/verify-turnstile/route.ts
   âŒ Write methods should validate input with Zod


ğŸ” LOGGING ISSUES (9 files):

ğŸ“„ src/app/api/admin/chatbot-analytics/route.ts
   âŒ No logger initialized

ğŸ“„ src/app/api/ai/bootstrap/route.ts
   âŒ No logger initialized

ğŸ“„ src/app/api/ai/chat-enhanced/route.ts
   âŒ No logger initialized

ğŸ“„ src/app/api/ai/context/route.ts
   âŒ No logger initialized

ğŸ“„ src/app/api/ai/suggestions/route.ts
   âŒ No logger initialized

ğŸ“„ src/app/api/diagnostics/route.ts
   âŒ No logger initialized

ğŸ“„ src/app/api/health/route.ts
   âŒ No logger initialized

ğŸ“„ src/app/api/recipes/optimized/route.ts
   âŒ No logger initialized

ğŸ“„ src/app/api/suppliers/route.ts
   âŒ No logger initialized


ğŸ” RESPONSES ISSUES (5 files):

ğŸ“„ src/app/api/diagnostics/route.ts
   âŒ Missing explicit status codes in responses

ğŸ“„ src/app/api/health/route.ts
   âŒ Missing explicit status codes in responses

ğŸ“„ src/app/api/ingredient-purchases/[id]/route.ts
   âŒ Not using NextResponse.json for responses

ğŸ“„ src/app/api/ingredients/route.ts
   âŒ Not using NextResponse.json for responses

ğŸ“„ src/app/api/recipes/optimized/route.ts
   âŒ Not using NextResponse.json for responses


ğŸ” TYPES ISSUES (9 files):

ğŸ“„ src/app/api/ai/sessions/[id]/route.ts
   âŒ Consider using "import type" for type-only imports

ğŸ“„ src/app/api/dashboard/hpp-summary/route.ts
   âŒ Consider using "import type" for type-only imports

ğŸ“„ src/app/api/diagnostics/route.ts
   âŒ Consider using "import type" for type-only imports

ğŸ“„ src/app/api/hpp/calculate/route.ts
   âŒ Consider using "import type" for type-only imports

ğŸ“„ src/app/api/hpp/overview/route.ts
   âŒ Consider using "import type" for type-only imports

ğŸ“„ src/app/api/hpp/pricing-assistant/route.ts
   âŒ Consider using "import type" for type-only imports

ğŸ“„ src/app/api/inventory/restock-suggestions/route.ts
   âŒ Consider using "import type" for type-only imports

ğŸ“„ src/app/api/notifications/[id]/route.ts
   âŒ Consider using "import type" for type-only imports

ğŸ“„ src/app/api/reports/cash-flow/route.ts
   âŒ Consider using "import type" for type-only imports


âš ï¸  Found 201 issues across 77 files

