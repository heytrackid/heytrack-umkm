#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "üöÄ Running pre-push checks..."

# Build check (quick build without analysis)
echo "üî® Running production build check..."
npm run build > /dev/null 2>&1
if [ $? -ne 0 ]; then
  echo "‚ùå Build failed. Please fix build errors before pushing."
  exit 1
fi

# Bundle size monitoring
echo "üìä Running bundle size analysis..."
npm run build:monitor > /dev/null 2>&1
if [ $? -ne 0 ]; then
  echo "‚ö†Ô∏è Bundle size issues detected. Please review before pushing."
  # Don't block push for bundle size, just warn
fi

echo "‚úÖ Pre-push checks completed!"
