# Ingredients Feature - Architecture Overview

## ğŸ—ï¸ Component Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    IngredientsPage                          â”‚
â”‚                  (src/app/ingredients/page.tsx)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              EnhancedIngredientsPage                        â”‚
â”‚        (Main orchestrator component)                        â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  State Management                                    â”‚  â”‚
â”‚  â”‚  - Search term                                       â”‚  â”‚
â”‚  â”‚  - Stock filter                                      â”‚  â”‚
â”‚  â”‚  - Sort options                                      â”‚  â”‚
â”‚  â”‚  - Selected IDs (bulk)                               â”‚  â”‚
â”‚  â”‚  - Modal states                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Data Layer                                          â”‚  â”‚
â”‚  â”‚  - useIngredients() hook                            â”‚  â”‚
â”‚  â”‚  - useSupabaseCRUD() hook                           â”‚  â”‚
â”‚  â”‚  - Real-time subscriptions                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚               â”‚               â”‚
         â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Filters   â”‚  â”‚   Display   â”‚  â”‚   Modals    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ Component Hierarchy

```
EnhancedIngredientsPage
â”œâ”€â”€ IngredientFilters
â”‚   â”œâ”€â”€ Search Input
â”‚   â”œâ”€â”€ Quick Segments (Chips)
â”‚   â””â”€â”€ Advanced Filter Popover
â”‚       â”œâ”€â”€ Sort Options
â”‚       â””â”€â”€ Reset Button
â”‚
â”œâ”€â”€ BulkActions (Desktop only)
â”‚   â”œâ”€â”€ Select All Checkbox
â”‚   â”œâ”€â”€ Selected Count Badge
â”‚   â””â”€â”€ Actions Dropdown
â”‚       â”œâ”€â”€ Bulk Export
â”‚       â”œâ”€â”€ Bulk Edit
â”‚       â””â”€â”€ Bulk Delete
â”‚
â”œâ”€â”€ Data Display (Conditional)
â”‚   â”‚
â”‚   â”œâ”€â”€ Mobile View (< 768px)
â”‚   â”‚   â””â”€â”€ MobileIngredientList
â”‚   â”‚       â””â”€â”€ MobileIngredientCard (per item)
â”‚   â”‚           â”œâ”€â”€ Header (name, price)
â”‚   â”‚           â”œâ”€â”€ Stock Indicator
â”‚   â”‚           â”œâ”€â”€ Expandable Details
â”‚   â”‚           â””â”€â”€ Action Buttons
â”‚   â”‚
â”‚   â””â”€â”€ Desktop View (>= 768px)
â”‚       â””â”€â”€ Table
â”‚           â”œâ”€â”€ Header Row
â”‚           â”‚   â””â”€â”€ Column Headers
â”‚           â””â”€â”€ Data Rows
â”‚               â”œâ”€â”€ SelectableRow (checkbox)
â”‚               â”œâ”€â”€ Data Cells
â”‚               â”‚   â””â”€â”€ StockBadge
â”‚               â””â”€â”€ Actions Dropdown
â”‚
â”œâ”€â”€ Modals
â”‚   â”œâ”€â”€ CreateModal
â”‚   â”‚   â””â”€â”€ EnhancedIngredientForm (mode: create)
â”‚   â”‚       â”œâ”€â”€ Basic Info Section
â”‚   â”‚       â”œâ”€â”€ Price & Stock Section
â”‚   â”‚       â”œâ”€â”€ Optional Info Section
â”‚   â”‚       â””â”€â”€ Smart Suggestions
â”‚   â”‚
â”‚   â”œâ”€â”€ EditModal
â”‚   â”‚   â””â”€â”€ EnhancedIngredientForm (mode: edit)
â”‚   â”‚       â”œâ”€â”€ Summary Panel
â”‚   â”‚       â”œâ”€â”€ Validation Warnings
â”‚   â”‚       â”œâ”€â”€ Form Sections
â”‚   â”‚       â””â”€â”€ Change Detection
â”‚   â”‚
â”‚   â””â”€â”€ DeleteModal
â”‚       â””â”€â”€ Confirmation Dialog
â”‚
â””â”€â”€ Empty State (when no data)
    â””â”€â”€ EnhancedEmptyState
        â”œâ”€â”€ Icon & Title
        â”œâ”€â”€ Benefits Grid
        â”œâ”€â”€ Primary CTA
        â”œâ”€â”€ Secondary Actions
        â””â”€â”€ Quick Start Guide
```

## ğŸ”„ Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User      â”‚
â”‚   Action    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component Event Handler            â”‚
â”‚  (handleCreate, handleEdit, etc)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Form Validation                    â”‚
â”‚  (React Hook Form + Zod)            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€ Valid â”€â”€â”€â”
       â”‚             â–¼
       â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚      â”‚  API Call           â”‚
       â”‚      â”‚  (useSupabaseCRUD)  â”‚
       â”‚      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚             â”‚
       â”‚             â”œâ”€â”€â”€ Success â”€â”€â”€â”
       â”‚             â”‚                â–¼
       â”‚             â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚             â”‚         â”‚  Toast      â”‚
       â”‚             â”‚         â”‚  Success    â”‚
       â”‚             â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚             â”‚                â”‚
       â”‚             â”‚                â–¼
       â”‚             â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚             â”‚         â”‚  Realtime   â”‚
       â”‚             â”‚         â”‚  Update     â”‚
       â”‚             â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚             â”‚                â”‚
       â”‚             â”‚                â–¼
       â”‚             â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚             â”‚         â”‚  UI         â”‚
       â”‚             â”‚         â”‚  Refresh    â”‚
       â”‚             â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚             â”‚
       â”‚             â””â”€â”€â”€ Error â”€â”€â”€â”
       â”‚                           â–¼
       â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                    â”‚  Toast      â”‚
       â”‚                    â”‚  Error      â”‚
       â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â””â”€â”€â”€ Invalid â”€â”€â”€â”
                       â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚  Show       â”‚
                â”‚  Errors     â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¨ State Management

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Component State                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  UI State (useState)                                    â”‚
â”‚  â”œâ”€â”€ searchTerm: string                                â”‚
â”‚  â”œâ”€â”€ stockFilter: StockFilter                          â”‚
â”‚  â”œâ”€â”€ sortBy: SortOption                                â”‚
â”‚  â”œâ”€â”€ sortOrder: 'asc' | 'desc'                         â”‚
â”‚  â”œâ”€â”€ selectedIds: string[]                             â”‚
â”‚  â”œâ”€â”€ isCreateModalOpen: boolean                        â”‚
â”‚  â”œâ”€â”€ isEditModalOpen: boolean                          â”‚
â”‚  â”œâ”€â”€ isDeleteDialogOpen: boolean                       â”‚
â”‚  â””â”€â”€ selectedIngredient: Ingredient | null             â”‚
â”‚                                                         â”‚
â”‚  Form State (useForm)                                   â”‚
â”‚  â”œâ”€â”€ createForm: UseFormReturn                         â”‚
â”‚  â””â”€â”€ editForm: UseFormReturn                           â”‚
â”‚                                                         â”‚
â”‚  Server State (React Query via useIngredients)          â”‚
â”‚  â”œâ”€â”€ data: Ingredient[]                                â”‚
â”‚  â”œâ”€â”€ loading: boolean                                  â”‚
â”‚  â”œâ”€â”€ error: Error | null                               â”‚
â”‚  â””â”€â”€ refetch: () => void                               â”‚
â”‚                                                         â”‚
â”‚  Computed State (useMemo)                              â”‚
â”‚  â””â”€â”€ processedData: Ingredient[]                       â”‚
â”‚      â””â”€â”€ filtered + sorted                             â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”Œ API Integration

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  API Layer                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚  Endpoints                                           â”‚
â”‚  â”œâ”€â”€ GET    /api/ingredients                        â”‚
â”‚  â”‚   â””â”€â”€ Query: page, limit, search, sort          â”‚
â”‚  â”‚                                                  â”‚
â”‚  â”œâ”€â”€ POST   /api/ingredients                        â”‚
â”‚  â”‚   â””â”€â”€ Body: IngredientInsertSchema              â”‚
â”‚  â”‚                                                  â”‚
â”‚  â”œâ”€â”€ PATCH  /api/ingredients/[id]                   â”‚
â”‚  â”‚   â””â”€â”€ Body: Partial<IngredientInsertSchema>     â”‚
â”‚  â”‚                                                  â”‚
â”‚  â””â”€â”€ DELETE /api/ingredients/[id]                   â”‚
â”‚                                                      â”‚
â”‚  Hooks (Abstraction)                                â”‚
â”‚  â”œâ”€â”€ useIngredients()                               â”‚
â”‚  â”‚   â”œâ”€â”€ Fetches data                              â”‚
â”‚  â”‚   â”œâ”€â”€ Real-time subscription                    â”‚
â”‚  â”‚   â””â”€â”€ Returns: { data, loading, error }         â”‚
â”‚  â”‚                                                  â”‚
â”‚  â””â”€â”€ useSupabaseCRUD('ingredients')                 â”‚
â”‚      â”œâ”€â”€ create(data)                               â”‚
â”‚      â”œâ”€â”€ update(id, data)                           â”‚
â”‚      â””â”€â”€ delete(id)                                 â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“± Responsive Behavior

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Responsive Breakpoints                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  Mobile (< 768px)                                   â”‚
â”‚  â”œâ”€â”€ Card layout (MobileIngredientCard)            â”‚
â”‚  â”œâ”€â”€ Expandable details                            â”‚
â”‚  â”œâ”€â”€ Stacked filters                               â”‚
â”‚  â”œâ”€â”€ Full-width buttons                            â”‚
â”‚  â””â”€â”€ Bottom sheet modals                           â”‚
â”‚                                                     â”‚
â”‚  Tablet (768px - 1024px)                           â”‚
â”‚  â”œâ”€â”€ Hybrid layout                                 â”‚
â”‚  â”œâ”€â”€ Some columns visible                          â”‚
â”‚  â”œâ”€â”€ Compact filters                               â”‚
â”‚  â””â”€â”€ Standard modals                               â”‚
â”‚                                                     â”‚
â”‚  Desktop (> 1024px)                                â”‚
â”‚  â”œâ”€â”€ Full table layout                             â”‚
â”‚  â”œâ”€â”€ All columns visible                           â”‚
â”‚  â”œâ”€â”€ Inline filters                                â”‚
â”‚  â”œâ”€â”€ Bulk actions toolbar                          â”‚
â”‚  â””â”€â”€ Large modals                                  â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ User Flows

### Create Ingredient Flow
```
Start
  â”‚
  â”œâ”€â†’ Click "Tambah Bahan Baku"
  â”‚
  â”œâ”€â†’ Modal opens (EnhancedIngredientForm)
  â”‚
  â”œâ”€â†’ Fill form fields
  â”‚   â”œâ”€ Name (required)
  â”‚   â”œâ”€ Unit (required)
  â”‚   â”œâ”€ Price (required)
  â”‚   â”œâ”€ Current Stock (required)
  â”‚   â”œâ”€ Min Stock (required)
  â”‚   â””â”€ Description (optional)
  â”‚
  â”œâ”€â†’ Real-time validation
  â”‚   â”œâ”€ Show errors if invalid
  â”‚   â””â”€ Show warnings if needed
  â”‚
  â”œâ”€â†’ Submit form
  â”‚
  â”œâ”€â†’ API call (POST /api/ingredients)
  â”‚
  â”œâ”€â†’ Success?
  â”‚   â”œâ”€ Yes â†’ Toast success
  â”‚   â”‚       â†’ Close modal
  â”‚   â”‚       â†’ Refresh list
  â”‚   â”‚       â†’ Check stock warning
  â”‚   â”‚
  â”‚   â””â”€ No  â†’ Toast error
  â”‚           â†’ Keep modal open
  â”‚           â†’ Show error details
  â”‚
End
```

### Filter & Search Flow
```
Start
  â”‚
  â”œâ”€â†’ Type in search box
  â”‚   â””â”€ Debounced (300ms)
  â”‚
  â”œâ”€â†’ Click stock filter chip
  â”‚   â”œâ”€ All
  â”‚   â”œâ”€ Stok Rendah
  â”‚   â”œâ”€ Habis
  â”‚   â””â”€ Normal
  â”‚
  â”œâ”€â†’ Open advanced filter
  â”‚   â”œâ”€ Select sort option
  â”‚   â””â”€ Toggle sort order
  â”‚
  â”œâ”€â†’ Process data (useMemo)
  â”‚   â”œâ”€ Filter by search
  â”‚   â”œâ”€ Filter by stock status
  â”‚   â””â”€ Sort by selected option
  â”‚
  â”œâ”€â†’ Update display
  â”‚   â”œâ”€ Show filtered count
  â”‚   â””â”€ Render items
  â”‚
  â””â”€â†’ Reset filters (optional)
      â””â”€ Clear all filters
```

### Bulk Operations Flow
```
Start
  â”‚
  â”œâ”€â†’ Select items (checkbox)
  â”‚   â”œâ”€ Individual selection
  â”‚   â””â”€ Select all
  â”‚
  â”œâ”€â†’ Bulk actions toolbar appears
  â”‚   â””â”€ Shows selected count
  â”‚
  â”œâ”€â†’ Choose action
  â”‚   â”œâ”€ Export
  â”‚   â”‚   â””â”€ Generate CSV
  â”‚   â”‚       â†’ Download file
  â”‚   â”‚
  â”‚   â”œâ”€ Edit (future)
  â”‚   â”‚   â””â”€ Bulk edit modal
  â”‚   â”‚
  â”‚   â””â”€ Delete
  â”‚       â””â”€ Confirmation dialog
  â”‚           â”œâ”€ Cancel â†’ Close
  â”‚           â””â”€ Confirm â†’ Delete all
  â”‚                       â†’ Toast success
  â”‚                       â†’ Clear selection
  â”‚
End
```

## ğŸ” Security & Validation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Security Layers                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  1. Client-Side Validation                         â”‚
â”‚     â”œâ”€â”€ React Hook Form                            â”‚
â”‚     â”œâ”€â”€ Zod Schema                                 â”‚
â”‚     â””â”€â”€ Real-time feedback                         â”‚
â”‚                                                     â”‚
â”‚  2. API Validation                                 â”‚
â”‚     â”œâ”€â”€ Request body validation                    â”‚
â”‚     â”œâ”€â”€ Query parameter validation                 â”‚
â”‚     â””â”€â”€ Type checking                              â”‚
â”‚                                                     â”‚
â”‚  3. Database Security                              â”‚
â”‚     â”œâ”€â”€ Row Level Security (RLS)                   â”‚
â”‚     â”œâ”€â”€ User isolation (user_id)                   â”‚
â”‚     â””â”€â”€ Type constraints                           â”‚
â”‚                                                     â”‚
â”‚  4. Authentication                                 â”‚
â”‚     â”œâ”€â”€ Supabase Auth                              â”‚
â”‚     â”œâ”€â”€ Session validation                         â”‚
â”‚     â””â”€â”€ Token refresh                              â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## âš¡ Performance Optimizations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Performance Strategies                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  1. Memoization                                    â”‚
â”‚     â”œâ”€â”€ useMemo for filtered data                 â”‚
â”‚     â”œâ”€â”€ useCallback for handlers                  â”‚
â”‚     â””â”€â”€ React.memo for components                 â”‚
â”‚                                                     â”‚
â”‚  2. Debouncing                                     â”‚
â”‚     â”œâ”€â”€ Search input (300ms)                       â”‚
â”‚     â””â”€â”€ Filter changes (100ms)                     â”‚
â”‚                                                     â”‚
â”‚  3. Lazy Loading                                   â”‚
â”‚     â”œâ”€â”€ Code splitting                             â”‚
â”‚     â”œâ”€â”€ Dynamic imports                            â”‚
â”‚     â””â”€â”€ Virtual scrolling (optional)               â”‚
â”‚                                                     â”‚
â”‚  4. Optimistic Updates                             â”‚
â”‚     â”œâ”€â”€ Update UI immediately                      â”‚
â”‚     â”œâ”€â”€ Rollback on error                          â”‚
â”‚     â””â”€â”€ Better perceived performance               â”‚
â”‚                                                     â”‚
â”‚  5. Caching                                        â”‚
â”‚     â”œâ”€â”€ React Query cache                          â”‚
â”‚     â”œâ”€â”€ Filter presets (localStorage)              â”‚
â”‚     â””â”€â”€ API response cache                         â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ§ª Testing Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Testing Pyramid                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚  E2E Tests (10%)                                   â”‚
â”‚  â”œâ”€â”€ Full user workflows                           â”‚
â”‚  â”œâ”€â”€ Critical paths                                â”‚
â”‚  â””â”€â”€ Cross-browser testing                         â”‚
â”‚                                                     â”‚
â”‚  Integration Tests (30%)                           â”‚
â”‚  â”œâ”€â”€ Component interactions                        â”‚
â”‚  â”œâ”€â”€ API integration                               â”‚
â”‚  â””â”€â”€ State management                              â”‚
â”‚                                                     â”‚
â”‚  Unit Tests (60%)                                  â”‚
â”‚  â”œâ”€â”€ Individual components                         â”‚
â”‚  â”œâ”€â”€ Utility functions                             â”‚
â”‚  â”œâ”€â”€ Validation logic                              â”‚
â”‚  â””â”€â”€ Toast helpers                                 â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Last Updated:** 2025-10-27  
**Version:** 1.0  
**Status:** âœ… Complete
